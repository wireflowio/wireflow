<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.title}}</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<div class="container">
    <header>
        <h1>消息推送</h1>
        <p>向指定地址推送消息</p>
    </header>

    <main>
        <div class="push-form">
            <h2>发送</h2>

            <div class="form-group">
                <label for="pushUrl">地址</label>
                <input type="url" id="pushUrl" placeholder="https://example.com/webhook" required>
                <small>请输入 HTTP/HTTPS 地址</small>
            </div>

            <div class="form-group">
                <label for="pushContent">内容</label>
                <textarea id="pushContent" rows="6" placeholder="输入要推送的内容" required></textarea>
                <div class="char-count">
                    <span id="charCount">0</span>/5000 字符
                </div>
            </div>

            <div class="form-actions">
                <button type="button" id="pushBtn" class="btn btn-primary">
                    <span class="btn-text">发送</span>
                    <span class="btn-loading" style="display: none;">发送中...</span>
                </button>

<!--                <button type="button" id="batchPushBtn" class="btn btn-secondary">批量</button>-->

                <button type="button" id="clearBtn" class="btn btn-outline">清空</button>
            </div>
        </div>

        <div class="result-section">
            <h3>结果</h3>
            <div id="result" class="result-box">
                <div class="result-placeholder">
                    暂无结果
                </div>
            </div>
        </div>

        <!-- 批量推送模态框 -->
        <div id="batchModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>批量推送</h3>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div id="batchItems">
                        <div class="batch-item">
                            <input type="url" placeholder="地址" class="batch-url">
                            <textarea placeholder="内容" class="batch-content"></textarea>
                            <button type="button" class="btn-remove">移除</button>
                        </div>
                    </div>
                    <button type="button" id="addBatchItem" class="btn btn-outline">添加</button>
                </div>
                <div class="modal-footer">
                    <button type="button" id="confirmBatchPush" class="btn btn-primary">开始</button>
                    <button type="button" class="btn btn-outline cancel-batch">取消</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>Wireflow 推送服务</p>
    </footer>
</div>

<script src="/static/js/script.js"></script>
</body>
</html>